#!/bin/bash
set -o errexit
set -o pipefail
set -o nounset


image=$(cat "${1:-/dev/stdin}" > "${2:-/dev/stdout}" | grep -E -o "https?://[a-zA-Z0-9./?=_%:-]*" | tail -1)


# Detect terminal dimensions
dims="$(tput cols)x$(tput lines)@0x0" 
echo "$image"
echo "$dims"
read

clear
kitty +kitten icat --clear
kitty +kitten icat --hold --scale-up --place "$dims" "$image"
clear
