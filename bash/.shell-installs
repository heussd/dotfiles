function _hasNotFile() { if [ -e "$1" ]; then return 1; fi; return 0; }
function _hasFolder() { if [ -d "$1" ]; then return 0; fi; return 1; }
function _hasCmd() { which "$1" &>/dev/null; }

if ! _hasCmd brew; then
  case "$(uname -s)" in
  Linux*)
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)"
    ;;
  Darwin*)
    /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
    ;;
  esac
fi
_hasFolder /home/linuxbrew/.linuxbrew && eval $(/home/linuxbrew/.linuxbrew/bin/brew shellenv)

if ! _hasCmd thefuck; then
  brew install thefuck
fi
_hasCmd thefuck && eval "$(thefuck --alias)"

if ! _hasCmd fzf; then
  brew install fzf
  $(brew --prefix)/opt/fzf/install --all --no-update-rc
fi
echo $SHELL | grep "bash" > /dev/null && source ~/.fzf.bash
echo $SHELL | grep "zsh" > /dev/null && source ~/.fzf.zsh


function installFont() {
  echo "Installing font $1..."
  brew tap homebrew/cask-fonts && brew cask install "$1"
}

_hasNotFile "$HOME/Library/Fonts/SourceCodePro-Regular.otf" && installFont "font-source-code-pro"
_hasNotFile "$HOME/Library/Fonts/Sauce Code Powerline Regular.otf" && installFont "font-source-code-pro-for-powerline"
