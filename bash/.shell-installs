function _hasNotFile() { if [ -e "$1" ]; then return 1; fi; return 0; }
function _hasFolder() { if [ -d "$1" ]; then return 0; fi; return 1; }
function _hasCmd() { which "$1" &>/dev/null; }
function _isMacOS() { uname -s | grep "Darwin" > /dev/null; }
function _isLinux() { uname -s | grep "Linux" > /dev/null; }

# https://stackoverflow.com/questions/19151510/get-the-number-of-days-since-file-is-last-modified
since_last_modified() {
   local modified
   local now=$(date +%s)
   local period=$2

   stat -f %m $1 > /dev/null 2>&1 && modified=$(stat -f %m $1) # BSD stat
   stat -c %Y $1 > /dev/null 2>&1 && modified=$(stat -c %Y $1) # GNU stat

   case $period in
        day|days)    period=86400 ;; # 1 day in seconds
       hour|hours)   period=1440  ;; # 1 hour in seconds
     minute|minutes) period=60    ;; # 1 minute in seconds
           *)        period=      ;; # default to seconds
   esac

   if [[ $period > 0 ]]; then
      echo "$(( (now - modified) / period ))"
   else
      echo "$(( now - modified ))"
   fi
}

days=$(since_last_modified .brewfile-logs days)
if [[ $days -gt 30 ]]; then
	echo ".brewfile-logs are older than 30 days, executing brew bundle install in background..."
	brew bundle install -v &> .brewfile-logs &
fi


_hasCmd thefuck && eval "$(thefuck --alias)"

echo $SHELL | grep "bash" > /dev/null && source ~/.fzf.bash
echo $SHELL | grep "zsh" > /dev/null && source ~/.fzf.zsh

